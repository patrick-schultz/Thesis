% -*- root: thesis.tex -*-

\chapter{Introduction}

The theory of model categories has a long history, and has proven itself indispensable to several recent advances in mathematics, such as higher category theory, so-called spectral algebraic geometry, even finding applications in computer science and the foundations of mathematics with homotopy type theory.

In the modern treatment, a model category is defined to consist of two \emph{weak factorization systems} on a category $\cat{C}$ (e.g.~\cite{mp:more-concise}). A weak factorization system is a structure which consists of two classes of morphisms of $\cat{C}$, call them $\mathcal{L}$ and $\mathcal{R}$, such that solutions to certain lifting problems involving one morphism from each class always exist, plus an axiom that every morphism of $\cat{C}$ factors as a morphism from $\mathcal{L}$ followed by a morphism from $\mathcal{R}$. In the past 20 or so years, most authors have added the requirement that this factorization can be chosen in a natural/functorial way.

Taking this one step further, in~\cite{gt:nwfs} the category theorists Marco Grandis and Walter Tholen proposed a strengthening of weak factorization systems which they called \emph{natural} weak factorization systems, today most often referred to as \emph{algebraic} weak factorization systems, or awfs for short. An awfs strengthens the structure in a way which provides a canonical \emph{choice} of solution to every lifting problem, in such a way that these choices are coherent or natural in a precise sense. The structure of an awfs consists of a monad and a comonad on the category of arrows satisfying some axioms, and the categories of algebras and coalgebras for these respectively provide an algebraic analogue of the right and left classes of maps of the factorization system.

It at first seems as though this extra structure is \emph{too} strict, and that examples would be hard to find. But in~\cite{garner:nwfs} and~\cite{garner:soa}, the category theorist Richard Garner provided a modification of Quillen's small object argument which generates algebraic weak factorization systems, and which furthermore has much nicer convergence properties that Quillen's original construction, and often generates a smaller and easier to understand factorization. Best of all, Garner's small object argument operates under almost identical assumptions as Quillen's, so that in practice any cofibrantly generated weak factorization system can be strengthened to an algebraic one.

In her Ph.D. thesis, \cite{riehl:nwfs-model} and~\cite{riehl:nwfs-monoidal}, Emily Riehl began the project of developing a full-fledged theory of \emph{algebraic model structures}, built out of two awfs analogously to an ordinary model structure, in the second part extending this to a theory of multivariable Quillen adjunctions and monoidal algebraic model structures. Since then, she and her collaborators have continued to develop and find applications of this theory, e.g.~\cite{cgr:mates}, \cite{br:funct-facts}, and~\cite{bmr:six}.

One appealing aspect of the theory of algebraic weak factorization systems, and by extension algebraic model categories, is that it is possible to express the definition entirely in terms of functors and natural transformations, opening the door to generalizing the theory by carrying out the same construction in other contexts with analogues of functors and natural transformations. The simplest and most familiar such context is a 2-category, but we have found that the most natural setting for the general theory of awfs---including the appropriate generalization of Quillen adjunctions---is a double category, a less familiar structure which has been attracting more attention in recent years (e.g.~\cite{shulman:framed}, \cite{dpp:spans}, \cite{fiore:monads}).

% In this thesis, we aim to build a general setting in which the structure of an algebraic weak factorization system makes sense, a structure we call a \emph{cyclic two-fold double category}, and then to translate some of the most important results from the existing theory to this larger context. We well then give an extension of this structure, called a \emph{cyclic two-fold double multi-category}, a modification of the cyclic double multi-categories of \cite{cgr:mates}, in which multivariable morphisms of awfs also make sense. Finally, we will give an example application of the increased generality by showing that the theory of enriched categories has the necessary structure needed to form a special case of our theory. We expect that other examples of algebraic model structures on structures other than plain categories will be found useful, and hope that this general framework will help to quickly translate the existing theory to new settings.

In \cref{Ch:Wfs}, we review the definitions of algebraic weak factorization system and morphisms of algebraic weak factorization systems, trying to lead up to the (abstract) definitions in a natural way.

The algebraic analogue of Quillen adjunctions makes essential use of the \emph{mates correspondence}---a natural bijection between natural transformations involving two pairs of adjoint functors which generalizes the hom-set bijection of an adjunction. The naturality of the mates correspondence is best formulated using double categories, and for this reason double categories play a central role in this thesis. In \cref{Ch:Double} we review the definition of double category, as well recording some constructions which will be needed later on. Of these, the definitions of arrow objects in a double category and of fully-faithful lax double functors are (to the best of our knowledge) original.

In~\cite{garner:nwfs} and~\cite{garner:soa}, Garner proves as a technical tool that algebraic weak factorization systems can be seen as bialgebras in a category of functorial factorizations, supporting the intuition that an awfs is given by a functorial factorization equipped with (co)algebraic structure. The category of functorial factorizations he constructs is not a symmetric or braided monoidal category, but a so-called two-fold monoidal category, which is a generalization of braided monoidal category having two compatible monoidal structures in which the definition of bialgebra still makes sense.

It is one of our primary goals of this thesis to extend this awfs-as-bialgebras perspective to include the algebraic analogue of Quillen adjunctions---the adjunctions of awfs as defined in~\cite{riehl:nwfs-model}. To do this, in \cref{Ch:2Fold} we give a common generalization of double categories and two-fold monoidal categories we call two-fold double categories. Generalizing bialgebras in a two-fold monoidal category, we define bimonads and (co)lax morphisms of bimonads in a two-fold double category.

In~\cite{cgr:mates}, the authors show that the mates correspondence can be usefully stated as the existence of a cyclic action on a double category of adjunctions. In \cref{Ch:Cyclic}, we show how to generalize the cyclic action as in~\cite{cgr:mates} to the two-fold double categories defined in \cref{Ch:2Fold}, defining what we call a cyclic two-fold double category. We show that a cyclic action interacts well with bimonads in a two-fold double category, extending to a cyclic action on the category of bimonads. 

In \cref{Ch:FuncFact}, we begin the core work of this thesis, constructing a cyclic two-fold double category of functorial factorizations in an arbitrary double category which has all arrow objects. Then in \cref{Ch:Awfs} we show that given any 2-category $\twocat{D}$ with arrow objects, bimonads in the cyclic two-fold double category of adjunctions in $\twocat{D}$ are precisely algebraic weak factorization systems in $\twocat{D}$. This is essentially proven already in~\cite{garner:nwfs}, but now the bimonad morphisms correspond precisely to the colax morphisms of awfs defined in~\cite{riehl:nwfs-model}, which are the algebraic version of functors preserving the left class of the factorization system. The cyclic action induced on the category of bimonads provides a concise expression of the self-duality of the awfs structure, and the algebraic analogue of the classical fact that a left adjoint preserves the left class of a factorization system if and only if the right adjoint preserves the right class.

Garner proves in~\cite{garner:nwfs} and~\cite{garner:soa} that instead of specifying both the monad and comonad halves of the awfs structure, it is equivalent to define the comonad, plus a functorial composition on the category of coalgebras. This generalizes the classical fact that the left (and right) class of maps is closed under composition, but more importantly provides a convenient technical tool for constructing algebraic weak factorization systems. Similarly, in~\cite{riehl:nwfs-model} Riehl proves that an equivalent definition of colax morphism of awfs is a functor which lifts to the categories of coalgebras for the comonads, and which also preserves the composition of coalgebras. She uses both of these theorems repeatedly throughout the paper.

In \cref{Ch:RAlg} we lay the groundwork towards proving a generalization of these theorems in the framework of cyclic two-fold double categories by reviewing the standard universal property for Eilenberg-Mac Lane categories for monads and comonads, first given in~\cite{street:ftm}, and showing the particular form this universal property takes in the special case of comonads arising from an awfs. Then in \cref{Ch:Composition}, we give the (surprisingly difficult and technical) proofs that the results mentioned above about composition of coalgebras continue to hold at our higher level of generality.

In the second part of her thesis, published as~\cite{riehl:nwfs-monoidal}, Riehl develops a theory of monoidal algebraic model categories, ultimately based on an algebraic strengthening of the notion of two-variable Quillen adjunction. Classically, a 2-variable Quillen adjunction is a functor of two variables with both adjoints (one in each variable), such that the induced pushout-product of two maps in the left classes is again in the left class. To give an algebraic version of this definition, Riehl had to extend the mates correspondence to multivariable adjunctions, which she does with her coauthors in~\cite{cgr:mates}. The mates correspondence for multivariable adjunctions is most easily understood in terms of cyclic double multicategories, a kind of structure defined in~\cite{cgr:mates} which generalizes cyclic double categories to allow for morphisms with multiple inputs.

In \cref{Ch:PushoutProduct} we show that a natural generalization of the universal property for arrow objects in a double category, defined in \cref{Sec:ArrowObjects}, to cyclic double multicategories in fact uniquely characterizes the pushout/pullback product. This allows us to abstract away the the pushout/pullback product, isolating precisely the properties which are necessary to make the theory of multivariable Quillen adjunctions work, and providing a conceptual explanation for the appearance of pushout/pullback products in the definitions of monoidal model category, simplicial model category, etc.

In \cref{Ch:DblMulti} we define a common generalization of the cyclic two-fold double categories of \cref{Ch:Cyclic} and the cyclic double multicategories of~\cite{cgr:mates}, which we call a cyclic two-fold double multicategory. We give a definition of multivariable morphisms of bimonads, showing that this definition is stable under the cyclic action. We then generalize our construction of a cyclic two-fold double category of functorial factorizations from \cref{Ch:FuncFact} to a cyclic two-fold double multicategory, and show that multivariable morphisms of bimonads recover the definition of multivariable adjunction of awfs given in~\cite{riehl:nwfs-monoidal}. The fact that these multivariable morphisms are stable under the cyclic action generalizes the classical fact that if a functor which is part of a 2-variable adjunction preserves the left classes, in that the pushout product of morphisms in the left classes is in the left class, then each of the two adjoints satisfy similar properties involving a mix of left and right classes.